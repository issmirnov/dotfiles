[0;34m=== GRC Performance Benchmarks ===[0m

[0;32mRunning benchmarks...[0m

[0;34mBenchmark 1: Processing different file sizes[0m
Benchmark 1: cat /home/vania/.dotfiles/benchmarks/test-data/ping-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.ping
  Time (mean Â± Ïƒ):      21.8 ms Â±   3.1 ms    [User: 18.0 ms, System: 4.5 ms]
  Range (min â€¦ max):    18.3 ms â€¦  32.9 ms    133 runs
 
Benchmark 2: cat /home/vania/.dotfiles/benchmarks/test-data/ps-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.ps
  Time (mean Â± Ïƒ):      22.6 ms Â±   5.7 ms    [User: 18.9 ms, System: 4.1 ms]
  Range (min â€¦ max):    18.7 ms â€¦  74.9 ms    149 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.
 
Benchmark 3: cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.log
  Time (mean Â± Ïƒ):      75.8 ms Â±   2.5 ms    [User: 72.0 ms, System: 4.9 ms]
  Range (min â€¦ max):    72.4 ms â€¦  83.6 ms    37 runs
 
Summary
  cat /home/vania/.dotfiles/benchmarks/test-data/ping-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.ping ran
    1.04 Â± 0.30 times faster than cat /home/vania/.dotfiles/benchmarks/test-data/ps-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.ps
    3.48 Â± 0.51 times faster than cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.log

[0;34mBenchmark 2: Different config file patterns[0m
Benchmark 1: cat /home/vania/.dotfiles/benchmarks/test-data/diff-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.diff
  Time (mean Â± Ïƒ):      21.9 ms Â±   5.0 ms    [User: 18.1 ms, System: 4.4 ms]
  Range (min â€¦ max):    17.2 ms â€¦  56.4 ms    147 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.
 
Benchmark 2: cat /home/vania/.dotfiles/benchmarks/test-data/docker-ps-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.dockerps
  Time (mean Â± Ïƒ):      23.1 ms Â±   5.3 ms    [User: 19.2 ms, System: 4.5 ms]
  Range (min â€¦ max):    17.9 ms â€¦  59.2 ms    142 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.
 
Summary
  cat /home/vania/.dotfiles/benchmarks/test-data/diff-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.diff ran
    1.05 Â± 0.34 times faster than cat /home/vania/.dotfiles/benchmarks/test-data/docker-ps-output.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.dockerps

[0;34mBenchmark 3: grcat overhead vs plain cat[0m
Benchmark 1: cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt
  Time (mean Â± Ïƒ):       1.5 ms Â±   1.3 ms    [User: 0.5 ms, System: 1.2 ms]
  Range (min â€¦ max):     0.0 ms â€¦   7.0 ms    2156 runs
 
  Warning: Command took less than 5 ms to complete. Note that the results might be inaccurate because hyperfine can not calibrate the shell startup time much more precise than this limit. You can try to use the `-N`/`--shell=none` option to disable the shell completely.
 
Benchmark 2: cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.log
  Time (mean Â± Ïƒ):      75.5 ms Â±   2.6 ms    [User: 72.1 ms, System: 4.4 ms]
  Range (min â€¦ max):    72.4 ms â€¦  82.9 ms    37 runs
 
Summary
  cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt ran
   50.15 Â± 43.19 times faster than cat /home/vania/.dotfiles/benchmarks/test-data/large-log.txt | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.log

[0;34mBenchmark 4: Full grc wrapper performance[0m
Benchmark 1: /home/vania/.dotfiles/benchmarks/../bin/grc -c /home/vania/.dotfiles/benchmarks/../grc/conf.ps ps aux
  Time (mean Â± Ïƒ):      48.8 ms Â±   9.8 ms    [User: 24.1 ms, System: 24.5 ms]
  Range (min â€¦ max):    41.0 ms â€¦ 110.1 ms    67 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.
 

[0;34mBenchmark 5: grcat startup time (empty input)[0m
Benchmark 1: echo '' | /home/vania/.dotfiles/benchmarks/../bin/grcat /home/vania/.dotfiles/benchmarks/../grc/conf.log
  Time (mean Â± Ïƒ):      21.0 ms Â±   3.9 ms    [User: 17.5 ms, System: 3.6 ms]
  Range (min â€¦ max):    17.0 ms â€¦  46.4 ms    132 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.
 

[0;32m=== Benchmarks Complete ===[0m

Results saved to:
  - /home/vania/.dotfiles/benchmarks/results-filesize.md
  - /home/vania/.dotfiles/benchmarks/results-configs.md
  - /home/vania/.dotfiles/benchmarks/results-overhead.md
  - /home/vania/.dotfiles/benchmarks/results-wrapper.md
  - /home/vania/.dotfiles/benchmarks/results-startup.md

[1;33mTo compare with the original version:[0m
  1. Checkout master: git stash && git checkout master
  2. Run: bash benchmarks/run-benchmarks.sh
  3. Save results to a different location
  4. Checkout this branch: git checkout grc-uplift-2025
  5. Run benchmarks again and compare
